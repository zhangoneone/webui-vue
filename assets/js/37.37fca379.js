(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{429:function(e,t,o){"use strict";o.r(t);var a=o(42),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"configuring-environment-specific-builds"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#configuring-environment-specific-builds"}},[e._v("#")]),e._v(" Configuring environment specific builds")]),e._v(" "),o("p",[e._v("This document provides instructions for how to add environment specific modifications to the Web UI.")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"#setup"}},[e._v("Setup")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#store"}},[e._v("Store")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#router"}},[e._v("Router")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#app-navigation"}},[e._v("App Navigation")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#theming"}},[e._v("Theming")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#local-development"}},[e._v("Local development")])]),e._v(" "),o("li",[o("a",{attrs:{href:"#production-build"}},[e._v("Production build")])])]),e._v(" "),o("h2",{attrs:{id:"setup"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[e._v("#")]),e._v(" Setup")]),e._v(" "),o("ol",[o("li",[e._v("Create a "),o("code",[e._v(".env.<ENV_NAME>")]),e._v(" file in the project root")]),e._v(" "),o("li",[e._v("Add "),o("code",[e._v("NODE_ENV=production")]),e._v(" key value pair in the file")]),e._v(" "),o("li",[e._v("Add "),o("code",[e._v("VUE_APP_ENV_NAME")]),e._v(" key with the value set to the new environment name")])]),e._v(" "),o("p",[e._v("Example "),o("code",[e._v(".env.ibm")]),e._v(":")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("NODE_ENV=production\nVUE_APP_ENV_NAME=ibm\n")])])]),o("h2",{attrs:{id:"store"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#store"}},[e._v("#")]),e._v(" Store")]),e._v(" "),o("blockquote",[o("p",[o("a",{attrs:{href:"https://vuex.vuejs.org/guide/modules.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vuex store modules"),o("OutboundLink")],1),e._v(" contain the application's API calls.")])]),e._v(" "),o("ol",[o("li",[e._v("If making customizations to the default store, add "),o("code",[e._v("CUSTOM_STORE=true")]),e._v(" key value pair to the new .env file.")]),e._v(" "),o("li",[e._v("Create a "),o("code",[e._v("<ENV_NAME>.js")]),e._v(" file in "),o("code",[e._v("src/env/store")]),e._v(" "),o("blockquote",[o("p",[e._v("The filename needs to match the "),o("code",[e._v("VUE_APP_ENV_NAME")]),e._v(" value defined in the .env file. The store import in "),o("code",[e._v("src/main.js")]),e._v(" will resolve to this new file.")])])]),e._v(" "),o("li",[e._v("Import the base store")]),e._v(" "),o("li",[e._v("Import environment specific store modules")]),e._v(" "),o("li",[e._v("Use the "),o("a",{attrs:{href:"https://vuex.vuejs.org/api/#registermodule",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vuex"),o("OutboundLink")],1),e._v(" "),o("code",[e._v("registerModule")]),e._v(" and "),o("code",[e._v("unregisterModule")]),e._v(" instance methods to add/remove store modules")]),e._v(" "),o("li",[e._v("Add default export")])]),e._v(" "),o("p",[e._v("Example "),o("code",[e._v("src/env/store/ibm.js")]),e._v(":")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("import store from '@/store; //@ aliases to src directory\nimport HmcStore from './Hmc/HmcStore';\n\nstore.registerModule('hmc', HmcStore);\n\nexport default store;\n")])])]),o("h2",{attrs:{id:"router"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#router"}},[e._v("#")]),e._v(" Router")]),e._v(" "),o("blockquote",[o("p",[o("a",{attrs:{href:"https://router.vuejs.org/guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Router"),o("OutboundLink")],1),e._v(" determines which pages are accessible in the UI.")])]),e._v(" "),o("ol",[o("li",[e._v("If making customizations to the default router, add "),o("code",[e._v("CUSTOM_ROUTER=true")]),e._v(" key value pair to the new .env file.")]),e._v(" "),o("li",[e._v("Create a "),o("code",[e._v("<ENV_NAME>.js")]),e._v(" file in "),o("code",[e._v("src/env/router")]),e._v(" "),o("blockquote",[o("p",[e._v("The filename needs to match the "),o("code",[e._v("VUE_APP_ENV_NAME")]),e._v(" value defined in the .env file. The routes import in "),o("code",[e._v("src/router/index.js")]),e._v(" will resolve to this new file.")])])]),e._v(" "),o("li",[e._v("Define new "),o("a",{attrs:{href:"https://router.vuejs.org/api/#routes",target:"_blank",rel:"noopener noreferrer"}},[e._v("routes"),o("OutboundLink")],1),e._v(".\n"),o("blockquote",[o("p",[e._v("Use static imports (over lazy-loading routes) to avoid creating separate JS chunks. Static imports also helps to keep the total build size down.")])])]),e._v(" "),o("li",[e._v("Add default export")])]),e._v(" "),o("h2",{attrs:{id:"app-navigation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#app-navigation"}},[e._v("#")]),e._v(" App navigation")]),e._v(" "),o("p",[e._v("The Vue Router definition is closely tied to the app navigation but should be configured separately.\nThe Vue Router is responsible for defining the application routes which is not always the same as what is visible in the app navigation.\nThis configuration will make customizations to the rendered markup in src/components/AppNavigation/AppNavigation.vue.")]),e._v(" "),o("ol",[o("li",[e._v("If making customizations to the app navigation, add "),o("code",[e._v("CUSTOM_APP_NAV=true")]),e._v(" key value pair to the new .env file.")]),e._v(" "),o("li",[e._v("Create a "),o("code",[e._v("<ENV_NAME>.js")]),e._v(" file in "),o("code",[e._v("src/env/components/AppNavigation")]),e._v(" "),o("blockquote",[o("p",[e._v("The filename needs to match the "),o("code",[e._v("VUE_APP_ENV_NAME")]),e._v(" value defined in the .env file. The AppNavigationMixin import in "),o("code",[e._v("src/components/AppNavigation/AppNavigation.vue")]),e._v(" will resolve to this new file.")])])]),e._v(" "),o("li",[e._v("Your custom mixin should follow a very similar structure to the default AppNavigationMixin.js file. It should include a data property named "),o("code",[e._v("navigationItems")]),e._v(" that should be an array of of navigation objects. Each navigation object should have an "),o("code",[e._v("id")]),e._v(" and "),o("code",[e._v("label")]),e._v(" property defined. Optionally it can include "),o("code",[e._v("icon")]),e._v(", "),o("code",[e._v("route")]),e._v(", or "),o("code",[e._v("children")]),e._v(" properties.")]),e._v(" "),o("li",[e._v("Add default export")])]),e._v(" "),o("h2",{attrs:{id:"theming"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#theming"}},[e._v("#")]),e._v(" Theming")]),e._v(" "),o("blockquote",[o("p",[o("a",{attrs:{href:"https://getbootstrap.com/docs/4.5/getting-started/theming/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bootstrap theming"),o("OutboundLink")],1),e._v(" allows for easy visual customizations.")])]),e._v(" "),o("ol",[o("li",[e._v("If making customizations to the default styles, add "),o("code",[e._v("CUSTOM_STYLES=true")]),e._v(" key value pair to the new .env file.")]),e._v(" "),o("li",[e._v("Create a "),o("code",[e._v("_<ENV_NAME>.scss")]),e._v(" partial in "),o("code",[e._v("src/env/assets/styles")]),e._v(" "),o("blockquote",[o("p",[e._v("The filename needs to match the "),o("code",[e._v("VUE_APP_ENV_NAME")]),e._v(" value defined in the .env file. The webpack sass loader will attempt to import a file with this name.")])])]),e._v(" "),o("li",[e._v("Add style customizations. Refer to "),o("a",{attrs:{href:"https://getbootstrap.com/docs/4.5/getting-started/theming/",target:"_blank",rel:"noopener noreferrer"}},[e._v("bootstrap documentation"),o("OutboundLink")],1),e._v(" for details about "),o("a",{attrs:{href:"https://getbootstrap.com/docs/4.5/getting-started/theming/#variable-defaults",target:"_blank",rel:"noopener noreferrer"}},[e._v("color overrides"),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://getbootstrap.com/docs/4.5/getting-started/theming/#sass-options",target:"_blank",rel:"noopener noreferrer"}},[e._v("other customizable options"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("p",[e._v("Example for adding custom colors")]),e._v(" "),o("p",[o("code",[e._v("src/env/assets/styles/_ibm.scss")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("// Custom theme colors\n\n$primary: rebeccapurple;\n$success: lime;\n")])])]),o("h2",{attrs:{id:"local-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#local-development"}},[e._v("#")]),e._v(" Local development")]),e._v(" "),o("ol",[o("li",[e._v("Add the same "),o("code",[e._v("VUE_APP_ENV_NAME")]),e._v(" key value pair to your "),o("code",[e._v("env.development.local")]),e._v(" file.")]),e._v(" "),o("li",[e._v("Use serve script"),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("npm run serve\n")])])])])]),e._v(" "),o("h2",{attrs:{id:"production-build"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#production-build"}},[e._v("#")]),e._v(" Production build")]),e._v(" "),o("p",[e._v("Run npm build script with vue-cli "),o("code",[e._v("--mode")]),e._v(" "),o("a",{attrs:{href:"https://cli.vuejs.org/guide/mode-and-env.html#modes",target:"_blank",rel:"noopener noreferrer"}},[e._v("option flag"),o("OutboundLink")],1),e._v(". This requires "),o("a",{attrs:{href:"#setup"}},[e._v("corresponding .env file to exist")]),e._v(".")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("npm run build -- --mode ibm\n")])])]),o("p",[o("strong",[e._v("OR")])]),e._v(" "),o("p",[e._v("pass env variable directly to script")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("VUE_APP_ENV_NAME=ibm npm run build\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);